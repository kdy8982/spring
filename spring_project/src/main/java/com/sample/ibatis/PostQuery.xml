<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Post">
	<typeAlias alias="Post" type="com.sample.domain.Post" />
	
	<resultMap id="post-list" class="com.sample.domain.Post">
         <result property="postId" column="post_id"/>
         <result property="postTitle" column="post_title"/>
         <result property="postDatetime" column="post_datetime"/>
         <result property="postContent" column="post_content"/>
    </resultMap>

	<delete id="delete" parameterClass="string">
		delete from post where id = #id#
	</delete>
	
	<delete id="deleteAll">
		delete from post
	</delete>

	<insert id="add" parameterClass="Post">
		insert into post (post_id, post_title, post_datetime, post_content) values(#postId#, #postTitle#, #postDatetime#, #postContent#)
 	</insert>
 	
	<update id="update" parameterClass="Post">
		update post set post_title = #postTitle#, post_content = #postContent# where id = #postId#
	</update>
 	
	<select id="get" parameterClass="string" resultClass="Post">
		select * from post where post_id = #postId#
 	</select>

	<select id="list" resultMap="post-list">
		select * from post
 	</select>
 	
 	<select id="getCount" resultClass="int">
		select count(*) from post
 	</select>
</sqlMap>
